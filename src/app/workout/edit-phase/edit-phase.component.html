<ng-container *ngIf="!isLoading; else loader">
	<app-title appFadeIn>{{ phaseId ? 'Edit phase' : 'New phase' }}</app-title>
	<form appFadeIn (ngSubmit)="savePhase()">
		<text-input [formGroup]="form" [name]="'name'" [label]="'Phase Name'"></text-input>
		<text-area [formGroup]="form" [name]="'description'" [label]="'Phase Description'"></text-area>
		<div class="mb-3">
			<mat-form-field [floatLabel]="'always'" MatFormFieldControl [hideRequiredMarker]="false">
				<mat-label>Number of Weeks</mat-label>
				<input [disabled]="!!phaseId" matInput [(ngModel)]="numberOfWeeks"
				[ngModelOptions]="{standalone: true}">
			</mat-form-field>
		</div>
		<button type="submit" mat-flat-button color="primary" class="me-2" [disabled]="!form.valid">Save</button>
		<button type="button" mat-flat-button color="basic" (click)="cancel()">Cancel</button>
	</form>
</ng-container>

<ng-template #loader>
	<app-loader></app-loader>
</ng-template>